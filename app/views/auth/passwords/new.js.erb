<% if !resource.email.nil? && resource.email_confirmation %>
	$("#login_title").show().html("Forgot Password");
	$("#login_content").html("<%= escape_javascript(render partial:'auth/modals/forgot_password_content.html.erb', locals: {resource: resource}) %>").show();
	$("#login_footer").html("<%= escape_javascript(render partial: 'auth/modals/login_navigation_options.html.erb') %>").show();
	toggle_oauth();
	toggle_sign_up_text("Sign In or Sign Up");
	$("#show_sign_up").show();
	$("#forgot_password").hide();
	$("#resend_confirmation_email").hide();
	//remove the remote from the user_email validation settings, if it is ther.
	validation_settings["login_form"]["user_email"]["validate_with"] = _.filter(validation_settings["login_form"]["user_email"]["validate_with"],function(n){
		return !("remote" in n);
	});
	validator = new WJ_Validator(validation_settings,"materialize",true);
<% elsif !resource.additional_login_param.nil? && resource.additional_login_param_confirmation %>
	//set a data-variable somewhere that tells the intent.
	//end setting the intent here.
	$("#login_content").html("<%= escape_javascript(render partial: Auth.configuration.auth_resources[resource.class.to_s.capitalize][:additional_login_param_new_otp_partial], locals: {resource: resource}) %>").show();
	//$("#sign_up_inputs").hide();
	$("#login_footer").html("<%= escape_javascript(render partial: 'auth/modals/login_navigation_options.html.erb', locals: {resource: resource}) %>").show();
	$("#show_sign_up").hide();
	$("#forgot_password").hide();
	$("#resend_confirmation_email").hide();
<% end %>
open_sign_in_modal_if_closed();
